:root{
  --bg:#ffffff; --text:#111827; --muted:#6b7280; --line:#e5e7eb; --accent:#2563eb;
}
*{box-sizing:border-box}
body{background:var(--bg); color:var(--text); font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif; margin:0; padding:24px}
h1{font-size:22px; margin:0 0 16px}
.container{max-width:1100px; margin:0 auto}
.panel{border:1px solid var(--line); border-radius:10px; padding:16px}
.row{display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-bottom:10px}
input,select,button{font:inherit; padding:8px 10px; border:1px solid var(--line); border-radius:8px; background:#fff; color:#111827}
select{min-width:180px}
input::placeholder{color:#9ca3af}
button{background:var(--accent); color:#fff; border-color:var(--accent); cursor:pointer; font-weight:600}
button[disabled]{opacity:.7; cursor:progress}
button:active{transform:translateY(1px)}
.btn-secondary{background:#f3f4f6; color:#111827; border-color:var(--line)}
.hint{color:var(--muted); font-size:13px; margin-top:6px}
.meta{color:var(--muted); font-size:13px; margin-top:8px}
.loading{color:var(--muted); margin-top:8px}
table{width:100%; border-collapse:collapse; margin-top:12px; font-size:14px}
thead th{background:#f9fafb; text-align:left; font-weight:600; color:#111827; border-bottom:1px solid var(--line); padding:10px}
tbody td{padding:10px; border-bottom:1px solid var(--line)}
tbody tr:nth-child(odd){background:#fafafa}
a{color:var(--accent); text-decoration:none}
a:hover{text-decoration:underline}

/* Modal & tree */
.modal{position:fixed; inset:0; background:rgba(0,0,0,.35); display:flex; align-items:center; justify-content:center; padding:16px; z-index:50}
.modal-content{background:#fff; width:min(900px, 95vw); max-height:85vh; border-radius:12px; border:1px solid var(--line); display:flex; flex-direction:column}
.modal-head,.modal-foot{display:flex; align-items:center; gap:8px; padding:12px 14px; border-bottom:1px solid var(--line)}
.modal-foot{border-top:1px solid var(--line); border-bottom:none}
.spacer{flex:1}
.tree{padding:10px 14px; overflow:auto}
.tree-row{display:flex; align-items:center; gap:8px; padding:2px 0}
.caret{width:16px; text-align:center; color:#6b7280}
.marker{width:28px; height:28px; border-radius:999px; line-height:1; font-weight:700}
.label{user-select:none}

/* ----- moved from inline <style> in index.html (scoped to pickers) ----- */
.picker{ position: relative; display: inline-block; }
.picker .btn-secondary { white-space: nowrap; }

.picker-panel{
  position: absolute; left: 0; top: 40px; z-index: 50;
  background: #fff; border: 1px solid #e5e7eb; border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.12);
  padding: 12px; width: min(420px, 80vw); max-height: 60vh; overflow: auto;
}

.picker-filter{ width: 100%; margin: 6px 0 8px 0; }

.picker .tree-row{ gap:6px; margin:4px 0; }
.picker .caret{ width:14px; display:inline-block; user-select:none; }
.picker .label{ white-space: nowrap; }

.small .btn-secondary { font-size: 12px; padding: 4px 8px; }

/* ---- Square checkbox-like markers (empty vs checked) ---- */
.tree .marker{
  width: 22px;
  height: 22px;
  padding: 0;
  border: 1px solid var(--line);
  border-radius: 4px;
  background: #fff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  cursor: pointer;
  color: #111827; /* tick color when checked on white bg is set via data-attr below */
}
.tree .marker[data-checked="1"]{
  background: #111827;      /* black square */
  border-color: #111827;
  color: #ffffff;            /* white tick */
}
